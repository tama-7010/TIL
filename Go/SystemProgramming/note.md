# Goroutineとは
goroutineはGoのランタイムに管理される軽量なスレッドのこと

```
go f(x, y, z)
```
と書けば、新しいgoroutineが実行される

```
f(x, y, z)
```
f, x, y, zの評価は、実行元（current）のgoroutineで実行され、fの実行は、新しいgoroutineで実行される

## Channelとは
チャネル（Channel）型は、チャネルオペレータの`<-`を用いて値の送受信ができる通り道のこと

```go
ch <- v // vをチャネルchへ送信する
v := <-ch // chから受信した変数をvへ割り当てる
```

マップとスライスのように、チャネルは使う前に以下のように生成する
```go
ch := make(chan int)
```
通常、片方が準備できるまで送受信はブロックされる。これにより、明確なロックや条件変数がなくても、goroutineの同期を可能にする

# TCPソケットとHTTPの実装
ソケットの使い方そのものはシンプルなものだ。つないでしまったら、できることは書き出し、読み込み、クローズしかない

これらの操作はio.Writerとio.Readerで抽象化されており、読み書きも難しくはない

## HTTPの基本
HTTP/1.0では、クライアントはサーバーに次のような内容をテキストで送信する
```
メソッド パス HTTP/1.0
ヘッダー1: ヘッダーの値
ヘッダー2: ヘッダーの値
(空行)
リクエストボディー(あれば)
```

サーバーは上記のようなリクエストを受け取ると、指定されたパスに格納されているリソースを次のような形式のレスポンスとして返す
```
HTTP/1.0 200 OK
ヘッダー1: ヘッダーの値
ヘッダー2: ヘッダーの値
(空行)
サーバーレスポンス
```
## RPC
RPC（Remote Procedure Calling）は、サーバーが用意している様々な機能を、関数のように簡単に呼び出そう、という仕組み  
XML-RPCやJSON-RPCといった形で、HTTP上のプロトコルとして利用されてきた  
引数を渡して実行し、返り値を受け取るという関数呼び出しを、そのままインターネット上で実現する

Go言語では、JSON-RPCが標準ライブラリとして提供されている

JSON-RPCでは、プロトコルバージョン（"jsonrpc"キーの値）、メソッド（"method"）、引数（"params"）、送受信の対応を取るためのIDの4項目を使ってリクエストを送信する  
その後決まったURLにHTTPのPOSTメソッドで送信する

## REST
Webサービスでは、全てを階層化されたリソースとみなし、URLを使ってそれらのリソースを取得したり投稿したりするAPIが採用されることが増えている  
このようなAPIにより、サーバーとクライアント間の通信をシンプルなファイルサーバーのような考え方に集約するスタイルは、REST（Representational State Transfer）と呼ばれる  
また、RESTの思想に従うシステムのことをRESTfulという

最近ではRESTfulの究極形態として位置づけられるHATEOSという考え方も広まりつつある  
サーバーからのHTTPレスポンスに「リンク」情報を入れ、そこから賢いクライアントプログラムが、自律的にデータ探索をして情報を見つけられる世界を実現しようというものだ（例: Github）




