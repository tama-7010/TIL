# HTTP入門
- HTTPはステートレスでテキストベースのリクエスト/レスポンス型プロトコルであり、クライアント/サーバ型のコンピューティングモデルで使用される。  
- 「リクエスト/レスポンス」は2台のコンピュータがお互いに「会話」をする際の基本的な方法。
- 「クライアント/サーバ型」のコンピュータモデルでは、常にリクエスト側がレスポンス側との会話を始める。

## HTTPリクエスト
HTTPはリクエストから始まる。  
HTTPリクエストは次の行で構成されている

1. リクエスト行---リクエストメソッド、URI、HTTPのバージョンの順に続く
2. リクエストヘッダ（0行以上）
3. 空行
4. メッセージ本体（省略可）

### HTTPリクエストの例
```
GET /Protocols/rfc2616/rfc2616.html HTTP/1.1
Host: www.w3.org
User-Agent: Mozilla/5.0
<<<空行>>>
```

### リクエストメソッド
リクエストメソッドはリクエスト行の最初の単語であり、リソースに対して行うべき処理を表す。

- GET---指定されたリソースを返す
- HEAD---メッセージ本体を返さない
- POST---メッセージ本体のデータをURIで示されたリソースに渡す。
- PUT---メッセージ本体のデータをURIで指定されたリソースにする。
- DELETE---指定されたリソースを削除する。
- TRACE---リクエストを送り返す。
- OPTIONS---サーバがサポートするHTTPメソッドのリストを返す。
- CONNECT---クライアントとのネットワーク接続を準備するようサーバに指示する。
- PATCH---メッセージ本体のデータに従ってリソースを変更する。

### リクエストヘッダ
リクエストヘッダはリクエストに付随する情報やクライアントに関するその他の情報がある。  
リクエストヘッダは「<名前>:<値>」の形式を持つプレーンテキストであり、CR+LFで終わる。

- Accept---クライアントがHTTPレスポンスの一部として受け取ることができるコンテンツタイプ
- Accept-Charset---サーバから受け取る際に要求される文字セット
- Authorization---ベーシック認証の証明書をサーバに送付する
- Cookie---サーバがそれまでにブラウザに対して2つのクッキーを設定したとすれば、Cookieには2つのクッキーが含まれており、それぞれが「;」で区切った名前と値の組で構成される。
- Content-Length---リクエスト本体の長さ（バイト数）
- Content-Type---リクエスト本体のコンテンツタイプ。
    - POSTかPUT : x-www-form-urlencoded
    - ファイルをアップロードする : multipart/form-data
- Host---サーバ名とポート番号
- Referrer---リクエストされたページにリンクしていた以前のページのアドレス
- User-Agent---呼び出しているクライアントに関する情報

## HTTPレスポンス
リクエストがあるたびにHTTPレスポンスのメッセージが1つ返される。  
HTTPリクエストと同様にHTTPレスポンスも何行かのプレーンテキストから成る。

1. ステータス行
2. 0個以上のレスポンスヘッダ
3. 空行
4. メッセージ本体（省略可能）

### HTTPレスポンスの例
```
200 OK
Date: Sat, 26 Nov 2016 12:58:58 GMT
Server: Apache/2
Last-Modified: Thu, 25 Aug 2016 21:01:33 GMT
Content-Length: 33115
Content-Type: text/html; charset=iso-8859-1

<!DOCTYPE html><html><head><title>HTTP/1.1</title></head><body>...</body></html>
```

### レスポンスのステータスコード
- 1XX---情報提供
- 2XX---成功
- 3XX---リダイレクション
- 4XX---クライアントエラー
- 5XX---サーバエラー

### レスポンスヘッダ
- Allow---どのリクエストメソッドをサポートしているかを伝える。
- Content-Length---レスポンス本体の長さ（バイト数）。
- Content-Type---レスポンス本体のコンテンツタイプ。
- Date---現在日時
- Location---リダイレクション時にURLをどこに要求すれば良いかを伝える。
- Server---レスポンスを返しているサーバのドメイン名。
- Set-Cockie---クライアントへのクッキーを設定できる。
- WWW-Authenticate---リクエストヘッダのAuthorizationフィールドにどのような認証情報を含めるべきかをクライアントに伝える。

### URI
URIの一般型
`＜スキーム名＞:＜階層部＞[?<クエリ＞][#<フラグメント>]`
- スキーム名---URIの構造の残りの部分を定義するURIスキームの名前。
- 階層部---リソースを特定する情報。
- クエリ---階層表示になじまない、その他の情報。
- フラグメント---定義されたURIの一部となる、2次リソースを特定するもの。
