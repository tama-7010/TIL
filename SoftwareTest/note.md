# ソフトウェアテスト技法ドリル

## 点に注意を向ける

### ピンポイントテスト
1. 怪しい箇所の認識…三色ボールペンを用いる(赤色…重要な箇所/青色…まぁ重要な箇所/緑色…自分が怪しいと感じたところ)
2. 間→対称→類推→外側を考える
3. 意地悪条件を考える…異常値/特異値/過去のバグやトラブル

### 過去の経験を活かす
#### バグパターン蓄積のトレーニング
* 多くのバグ票を読み込む…バグの原因が書いていないバグ票はほとんど役に立たない。バグの原因を読んで「どうしてそのようなバグを作り込んでしまったのだろう？」と想像することが良い訓練になる。
* 探索的テスト…テストをいているなかで怪しそうなところを重点的に探索し、深くテストしていく。テストの記録をとり、テスト終了後には、テスター自身にソフトウェアに対する印象をまとめて文書化してもらう。

## 線を意識する

### 同値分割と境界値分析の基本
* 同値分割…入力される可能性のあるデータをグループ化してその代表となる値を選びそれだけをテストする
  * 同値クラス…同値分割した各々のグループのこと
* 境界値分析…同値クラスの代表をそれぞれの端の値から選ぶこと
  * 境界値分析で大切なことは、簡単そうに思えても必ず線と丸を描いて同値クラスと無効同値クラスの違いを視覚的にわかるようにすること
  * 実数値の境界値分析は「65 - d(d = 0.0001)」のように定義する

### 同値分割と境界値分析の応用
* 有効な値（正常系）は複数同時に確認できるが、無効な値（異常系）については1回に1つずつしか確認できない（*異常値は他の異常値を隠す*）


## 面で逃さない

ソフトウェアはデータからなるものではなく、ロジック（論理）の塊から構成されている  
ロジックとは、入力の組み合わせによる特別な動作のこと  
したがって、ソフトウェアの入力が系統的にロジックを網羅し、正しく動作することをテストするテクニックを身につける必要がある

### ドメイン分析テスト

ドメイン分析テスト…関係性がある複数の変数を同時にテストする  
* on…着目している境界値
* off…onポイントに対して境界値分析をした時に見つかる、隣接したもう一つの境界値のこと
* in…ドメインの内側の値(on/off以外)
* out…ドメインの外側の値(on/off以外)
  
多くの変数があった場合は、着目する一つの変数についてonとoffを変化させ、他の値についてはinにしておけばその変数のon/offポイントを確実に評価することができる  
なぜなら、無効な値（異常系）については1回に1つずつしか確認できないから

参照---Binderのドメイン分析テストマトリクス

### デシジョンテーブル

デシジョンテーブルで取り扱う変数は主に論理式で結ばれている。プログラムの中のif文やswitch文は全てデシジョンテーブルにできる  
条件をnとすると規則の個数は2のn乗となり、全てをテストすることはできないので、デシジョンテーブルを圧縮する必要がある  

* 同じ動作（結果）を持つテストケースの中で、結果に影響を及ぼす行が最終行の「Y」と「N」の違いのみの場合、その列をまとめて結果を「-」に変更する

### 原因結果グラフ

条件が6個以上になってくるとデシジョンテーブルはとても大きくなってしまう  
ブールグラフから単純なデシジョンテーブルを作成するというアイデアを「原因結果グラフ」と呼ぶ  

#### 原因結果グラフの描き方

原因結果グラフは次のステップで作成する
1. 原因と結果の因果関係の抽出
2. ノードの配置とリンク
3. 制約条件の書き込み

##### 原因と結果の因果関係の抽出

原因結果グラフを描くためには、仕様書から因果関係を抽出する必要がある  
> ソフトウェア開発は複雑で解くことが難しい問題をできるだけシンプルな問題に分解し再構築する作業と見ることができる

*論理関係を示す用語の抽出*  
論理関係を記述するために使われる単語に三色ボールペンの青でマークをつけていく

*ノードの配置とリンク*
論理関係が抽出できたら、次は原因・中間・結果ノードを配置し、それらをリンクで繋げ、ノード間の関係を表す「AND」、「OR」、「NOT」をを書き込む

*制約条件の書き込み*
最後に制約条件を書き込み、原因結果ブラフを完成させる

##### 制約の詳細

原因結果グラフはAND、OR、NOTで成り立っているが、それだけでは複雑な仕様を表すのに手間がかかるので、補助的に論理関係を追加する制約という仕組みを持っている  
制約には大きく分けて「集合を表す制約」と「順序を表す制約」の2通りがある  

*集合を表す制約*
1. ONE制約…Only Oneの略。どれか一つを必ず選択する場合に使用する
2. EXCL制約…Exclusiveの略。どれか一つを選択するか、全く選択しない場合に使用する。選択しても高々ひとつ
3. INCL制約…Inclusiveの略。少なくとも一つは選択する場合に使用する。逆にいうと、全く選択しないことを許さない

*順序を表す制約*
1. REQ制約…Requireの略。あるノードが真になるために、事前に真になっている必要があるノードを指定する
2. MASK制約…あるノードが真になると、Mask制約で指定された2つ目以降のノードは審議が確認できないことを表す

